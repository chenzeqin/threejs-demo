import{u as S,g as _,R as V,V as L,S as N,P as O,W as U,O as G,A as W,H as z,I as X,e as Y,h as $,i as J,D as K}from"./chunks/useContainer.Bp5K8ok1.js";import{d as Q,y as Z,z as ss,o as v,c as x,I as is,j as k,a as w,a2 as as}from"./chunks/framework.DstARwHN.js";const ns={name:"RayCasy"},hs=Q({...ns,setup(b){let h,n,i,l,c;const{el:F,width:C,height:A}=S();function M(){h=new N}function R(){n=new O(75,C.value/A.value,.1,1e3),n.position.set(0,50,100),n.lookAt(0,0,0)}function I(){i=new U,i.setSize(C.value,A.value),F.value.appendChild(i.domElement)}function H(){l=new G(n,i.domElement),l.update()}function T(){c=new W(30),h.add(c)}function P(){const s=new z(16777215,4210752);s.position.set(0,10,0),h.add(s)}let t=10,j=Math.pow(t,3),a;const m=new _().setHex(16777215);function q(){const s=new X(.5,1),e=new Y({color:16777215,wireframe:!1});a=new $(s,e,j);let E=0;const d=(t-1)/2,B=new J;for(let g=0;g<t;g++)for(let y=0;y<t;y++)for(let o=0;o<t;o++)B.setPosition(g-d,y-d,o-d),a.setMatrixAt(E,B),a.setColorAt(E,m),E++;a.instanceMatrix.setUsage(K),h.add(a)}let D,u=new V,p=new _;function f(){D=requestAnimationFrame(f),i.render(h,n),u.setFromCamera(r,n);const s=u.intersectObject(a);if(s.length){const e=s[0].instanceId;a.getColorAt(e,p),p.equals(m)&&(a.setColorAt(e,p.setHex(Math.random()*16777215)),a.instanceColor.needsUpdate=!0)}l.update()}let r=new L(1,1);return Z(()=>{M(),R(),I(),H(),T(),P(),q(),f(),i.domElement.addEventListener("mousemove",s=>{r.x=s.offsetX/i.domElement.clientWidth*2-1,r.y=-(s.offsetY/i.domElement.clientHeight)*2+1})}),ss(()=>{cancelAnimationFrame(D),i.dispose(),l.dispose(),i.domElement.remove()}),(s,e)=>(v(),x("div",{ref_key:"el",ref:F,"h-500px":"",class:"border-2 border-gray-300"},null,512))}}),ts=k("h1",{id:"instancedmesh-and-raycaster",tabindex:"-1"},[w("InstancedMesh and Raycaster "),k("a",{class:"header-anchor",href:"#instancedmesh-and-raycaster","aria-label":'Permalink to "InstancedMesh and Raycaster"'},"​")],-1),es=k("h2",{id:"preview",tabindex:"-1"},[w("preview "),k("a",{class:"header-anchor",href:"#preview","aria-label":'Permalink to "preview"'},"​")],-1),ks=k("p",null,"this sample shows how to use raycast in three.js",-1),ls=as("",9),ds=JSON.parse('{"title":"InstancedMesh and Raycaster","description":"","frontmatter":{},"headers":[],"relativePath":"part-01/04-raycast/README.md","filePath":"part-01/04-raycast/README.md"}'),ps={name:"part-01/04-raycast/README.md"},gs=Object.assign(ps,{setup(b){return(h,n)=>(v(),x("div",null,[ts,es,ks,is(hs),ls]))}});export{ds as __pageData,gs as default};
